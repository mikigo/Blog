import{_ as a,c as i,R as e,o as t}from"./chunks/framework.DEC0wfly.js";const p="/nvidia_assets/1.png",n="/nvidia_assets/2.png",l="/nvidia_assets/3.png",F=JSON.parse('{"title":"NVIDIA驱动&CUDA&cuDNN安装","description":"","frontmatter":{"Author":"mikigo"},"headers":[],"relativePath":"编程基础/人工智能/图像/NVIDIA驱动&CUDA&cuDNN安装.md","filePath":"编程基础/人工智能/图像/NVIDIA驱动&CUDA&cuDNN安装.md","lastUpdated":1736789141000}'),h={name:"编程基础/人工智能/图像/NVIDIA驱动&CUDA&cuDNN安装.md"};function d(o,s,c,r,k,u){return t(),i("div",null,s[0]||(s[0]=[e(`<h1 id="nvidia驱动-cuda-cudnn安装" tabindex="-1">NVIDIA驱动&amp;CUDA&amp;cuDNN安装 <a class="header-anchor" href="#nvidia驱动-cuda-cudnn安装" aria-label="Permalink to &quot;NVIDIA驱动&amp;CUDA&amp;cuDNN安装&quot;">​</a></h1><p>系统环境：Deepin 20.9</p><h2 id="驱动安装" tabindex="-1">驱动安装 <a class="header-anchor" href="#驱动安装" aria-label="Permalink to &quot;驱动安装&quot;">​</a></h2><p>以显卡 <code>GTX3060</code> 举例，驱动下载地址：<a href="https://www.nvidia.cn/Download/Find.aspx?lang=cn" target="_blank" rel="noreferrer">https://www.nvidia.cn/Download/Find.aspx?lang=cn</a></p><p>把驱动下载好。</p><p>1、进入 <code>tty</code>：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CTRL+ALT+F2</span></span></code></pre></div><p>2、禁用 nouveau 驱动：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/modprobe.d/blacklist-nouveau.conf</span></span></code></pre></div><p>3、填入：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">blacklist</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nouveau</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">options</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nouveau</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modeset=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span></code></pre></div><p>4、刷新配置文件</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update-initramfs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span></span></code></pre></div><p>5、<code>reboot</code> 重启后再进入 <code>tty</code>。</p><p>6、关闭图像界面，输入命令关闭图像界面：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lightdm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span></span></code></pre></div><p>7、安装驱动</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a+x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NVIDIA-Linux-x86_64-430.run</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./NVIDIA-Linux-x86_64-430.run</span></span></code></pre></div><p>8、<code>reboot</code> 重启，<code>nvidia-smi</code> 查看安装状态。</p><p><img src="`+p+'" alt=""></p><p>注意看下 <code>cuda</code> 版本，后面要用。</p><h2 id="cuda安装" tabindex="-1">CUDA安装 <a class="header-anchor" href="#cuda安装" aria-label="Permalink to &quot;CUDA安装&quot;">​</a></h2><p>CUDA 是 NVIDIA 的并行计算框架。</p><p><code>CUDA</code> 下载：<a href="https://developer.nvidia.com/cuda-toolkit-archive" target="_blank" rel="noreferrer">https://developer.nvidia.com/cuda-toolkit-archive</a></p><p>根据前面查看到 <code>cuda</code> 版本选择对应的包。</p><p><img src="'+n+`" alt=""></p><p>按照网站下面的提示一顿操作就行了。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://developer.download.nvidia.com/compute/cuda/12.2.0/local_installers/cuda_12.2.0_535.54.03_linux.run</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cuda_12.2.0_535.54.03_linux.run</span></span></code></pre></div><p>输入 <code>nvcc -V</code> 查看，如果正常就说明安装好了：</p><p><img src="`+l+'" alt=""></p><p>安装组件中千万别选 NVIDIA-fs，否则会 fail， 打叉表示选中。</p><h2 id="cudnn" tabindex="-1">cuDNN <a class="header-anchor" href="#cudnn" aria-label="Permalink to &quot;cuDNN&quot;">​</a></h2><p>cuDNN 是 NVIDIA 打造的针对深度神经网络的加速库，是一个用于深层神经网络的 GPU 加速库。</p><p>下载：<a href="https://developer.nvidia.com/rdp/cudnn-archive" target="_blank" rel="noreferrer">https://developer.nvidia.com/rdp/cudnn-archive</a></p><p>需要先注册为开发者。</p><p>然后选择对应版本的 cuDNN 版本下载，注意和 CUDA 版本对应。</p><p>然后执行安装：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cudnn-local-repo-ubuntu2004-8.9.7.29_1.0-1_amd64.deb</span></span></code></pre></div>',38)]))}const v=a(h,[["render",d]]);export{F as __pageData,v as default};
