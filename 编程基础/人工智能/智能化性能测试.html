<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>智能化性能测试 | Blog | 技术博客</title>
    <meta name="description" content="专注于测试方向的技术分享交流平台">
    <meta name="generator" content="VitePress v1.0.0-rc.36">
    <link rel="preload stylesheet" href="/blog/assets/style.DqF8iFBx.css" as="style">
    
    <script type="module" src="/blog/assets/app.CRC2XOgR.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blog/assets/chunks/theme.CZydEnK2.js">
    <link rel="modulepreload" href="/blog/assets/chunks/framework.CpY5Ih_Y.js">
    <link rel="modulepreload" href="/blog/assets/编程基础_人工智能_智能化性能测试.md.BuUsErdl.lean.js">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="icon" href="/blog/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1d3da264><!--[--><!--]--><!--[--><span tabindex="-1" data-v-6f818d48></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-6f818d48> Skip to content </a><!--]--><!----><header class="VPNav" data-v-1d3da264 data-v-acb989c4><div class="VPNavBar" data-v-acb989c4 data-v-1adce4e7><div class="wrapper" data-v-1adce4e7><div class="container" data-v-1adce4e7><div class="title" data-v-1adce4e7><div class="VPNavBarTitle" data-v-1adce4e7 data-v-bb9013e0><a class="title" href="/blog/" data-v-bb9013e0><!--[--><!--]--><!--[--><img class="VPImage logo" src="/blog/vitepress-logo-mini.svg" width="24" height="24" alt data-v-be70a27a><!--]--><!--[-->mikigo blog<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-1adce4e7><div class="content-body" data-v-1adce4e7><!--[--><!--]--><div class="VPNavBarSearch search" data-v-1adce4e7><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1adce4e7 data-v-b51e28b3><span id="main-nav-aria-label" class="visually-hidden" data-v-b51e28b3>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/index.html" tabindex="0" data-v-b51e28b3 data-v-b820583c><!--[--><span data-v-b820583c>🏠首页</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-b51e28b3 data-v-f97f2382><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-f97f2382><span class="text" data-v-f97f2382><!----><span data-v-f97f2382>自动化技术</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-f97f2382><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-f97f2382><div class="VPMenu" data-v-f97f2382 data-v-cf132fc5><div class="items" data-v-cf132fc5><!--[--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%8A%80%E6%9C%AF/UI%E8%87%AA%E5%8A%A8%E5%8C%96/Playwright%E2%80%948%E5%B0%8F%E6%97%B6%E5%85%A5%E9%97%A8%E7%89%88.html" data-v-05f33d9d><!--[-->UI自动化<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%8A%80%E6%9C%AF/%E6%80%A7%E8%83%BD%E8%87%AA%E5%8A%A8%E5%8C%96/Locust%E2%80%942%E5%B0%8F%E6%97%B6%E5%85%A5%E9%97%A8%E7%89%88.html" data-v-05f33d9d><!--[-->性能自动化<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%8A%80%E6%9C%AF/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96/HttpRunner-2%E5%B0%8F%E6%97%B6%E5%85%A5%E9%97%A8%E7%89%88.html" data-v-05f33d9d><!--[-->接口自动化<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%8A%80%E6%9C%AF/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%80%9D%E6%83%B3%E7%90%86%E5%BF%B5/PageObjects.html" data-v-05f33d9d><!--[-->自动化思想理念<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%8A%80%E6%9C%AF/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/Pytest%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E8%B5%B7%E9%A3%9E.html" data-v-05f33d9d><!--[-->自动化测试框架<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-b51e28b3 data-v-f97f2382><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-f97f2382><span class="text" data-v-f97f2382><!----><span data-v-f97f2382>编程基础</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-f97f2382><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-f97f2382><div class="VPMenu" data-v-f97f2382 data-v-cf132fc5><div class="items" data-v-cf132fc5><!--[--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/Python/Linux%E4%B8%8A%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E7%94%A8pip3%E8%BF%98%E6%98%AFsudopip3.html" data-v-05f33d9d><!--[-->Python<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/Shell/Shell%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83%E9%94%99%E8%AF%AF%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C.html" data-v-05f33d9d><!--[-->Shell<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/Linux/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/KVM%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.html" data-v-05f33d9d><!--[-->Linux<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E5%9B%BE%E5%83%8F/MMDetection%E5%85%A5%E9%97%A8%E5%9F%BA%E7%A1%80.html" data-v-05f33d9d><!--[-->人工智能<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/%E5%89%8D%E5%90%8E%E7%AB%AF/%E5%89%8D%E7%AB%AF/Linux%E4%B8%8A%E5%AE%89%E8%A3%85Nodejs.html" data-v-05f33d9d><!--[-->前后端<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB/%E6%8E%A5%E5%8F%A3%E8%AF%B7%E6%B1%82%E5%B7%A5%E5%85%B7/Httpx.html" data-v-05f33d9d><!--[-->网络爬虫<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/Jenkins/Jenkins%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%BB%A5%E5%8F%8A%E4%BB%BB%E5%8A%A1%E5%88%9B%E5%BB%BA.html" data-v-05f33d9d><!--[-->Jenkins<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-b51e28b3 data-v-f97f2382><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-f97f2382><span class="text" data-v-f97f2382><!----><span data-v-f97f2382>技术文档</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-f97f2382><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-f97f2382><div class="VPMenu" data-v-f97f2382 data-v-cf132fc5><div class="items" data-v-cf132fc5><!--[--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E4%B8%93%E5%88%A9%E4%BA%A4%E5%BA%95%E4%B9%A6/%E4%B8%80%E7%A7%8D%E5%AE%9A%E4%BD%8D%E7%9B%AE%E6%A0%87%E5%9B%BE%E7%89%87%E5%9D%90%E6%A0%87%E7%9A%84%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB%E6%8A%80%E6%9C%AF%E4%BA%A4%E5%BA%95%E4%B9%A6.html" data-v-05f33d9d><!--[-->专利交底书<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E6%8A%80%E6%9C%AF%E8%B0%83%E7%A0%94/%E3%80%8A%E5%8F%AF%E7%94%A8%E4%BA%8EUOS%E6%A1%8C%E9%9D%A2%E5%BA%94%E7%94%A8%E6%80%A7%E8%83%BD%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7%E3%80%8B%E8%B0%83%E7%A0%94%E6%8A%A5%E5%91%8A.html" data-v-05f33d9d><!--[-->技术调研<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E6%A0%B9%E5%9B%A0%E5%88%86%E6%9E%90/Python%E8%B0%83%E7%94%A8%E5%8A%A8%E6%80%81%E5%BA%93%E8%BF%90%E8%A1%8C%E6%97%B6%E6%8A%A5%E9%9D%99%E6%80%81TLS%E5%9D%97%E4%B8%8D%E8%83%BD%E5%88%86%E9%85%8D%E5%86%85%E5%AD%98%E6%A0%B9%E5%9B%A0%E5%88%86%E6%9E%90%E6%8A%A5%E5%91%8A.html" data-v-05f33d9d><!--[-->根因分析<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-b51e28b3 data-v-f97f2382><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-f97f2382><span class="text" data-v-f97f2382><!----><span data-v-f97f2382>分享有趣</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-f97f2382><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-f97f2382><div class="VPMenu" data-v-f97f2382 data-v-cf132fc5><div class="items" data-v-cf132fc5><!--[--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E5%88%86%E4%BA%AB%E6%9C%89%E8%B6%A3/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/Wayland%E4%B8%8Bsniff%E6%8A%A5%E9%94%99.html" data-v-05f33d9d><!--[-->常见问题<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E5%88%86%E4%BA%AB%E6%9C%89%E8%B6%A3/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%88%E6%8E%92%E7%89%88%E6%8C%87%E5%8C%97.html" data-v-05f33d9d><!--[-->经验总结<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cf132fc5 data-v-05f33d9d><a class="VPLink link" href="/blog/%E5%88%86%E4%BA%AB%E6%9C%89%E8%B6%A3/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/OpenStack%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%AE%9E%E6%88%98.html" data-v-05f33d9d><!--[-->读书笔记<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/about.html" tabindex="0" data-v-b51e28b3 data-v-b820583c><!--[--><span data-v-b820583c>关于</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-1adce4e7 data-v-209c7fe2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="切换到深色模式" aria-checked="false" data-v-209c7fe2 data-v-2f0c213d data-v-70ff09fa><span class="check" data-v-70ff09fa><span class="icon" data-v-70ff09fa><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-2f0c213d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-2f0c213d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-1adce4e7 data-v-c8120ad7 data-v-b85ffb14><!--[--><a class="VPSocialLink no-icon" href="https://github.com/mikigo/Blog" aria-label="cool link" target="_blank" rel="noopener" data-v-b85ffb14 data-v-46b4a35f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-1adce4e7 data-v-d9c4e47b data-v-f97f2382><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-f97f2382><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-f97f2382><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-f97f2382><div class="VPMenu" data-v-f97f2382 data-v-cf132fc5><!----><!--[--><!--[--><!----><div class="group" data-v-d9c4e47b><div class="item appearance" data-v-d9c4e47b><p class="label" data-v-d9c4e47b>主题</p><div class="appearance-action" data-v-d9c4e47b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="切换到深色模式" aria-checked="false" data-v-d9c4e47b data-v-2f0c213d data-v-70ff09fa><span class="check" data-v-70ff09fa><span class="icon" data-v-70ff09fa><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-2f0c213d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-2f0c213d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-d9c4e47b><div class="item social-links" data-v-d9c4e47b><div class="VPSocialLinks social-links-list" data-v-d9c4e47b data-v-b85ffb14><!--[--><a class="VPSocialLink no-icon" href="https://github.com/mikigo/Blog" aria-label="cool link" target="_blank" rel="noopener" data-v-b85ffb14 data-v-46b4a35f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-1adce4e7 data-v-3fee0513><span class="container" data-v-3fee0513><span class="top" data-v-3fee0513></span><span class="middle" data-v-3fee0513></span><span class="bottom" data-v-3fee0513></span></span></button></div></div></div></div><div class="divider" data-v-1adce4e7><div class="divider-line" data-v-1adce4e7></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-1d3da264 data-v-2283081c><div class="container" data-v-2283081c><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2283081c data-v-8309ea7f><button data-v-8309ea7f>回到顶部</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-1d3da264 data-v-5e81d430><div class="VPDoc has-aside" data-v-5e81d430 data-v-ea35ea47><!--[--><!--]--><div class="container" data-v-ea35ea47><div class="aside" data-v-ea35ea47><div class="aside-curtain" data-v-ea35ea47></div><div class="aside-container" data-v-ea35ea47><div class="aside-content" data-v-ea35ea47><div class="VPDocAside" data-v-ea35ea47 data-v-fb4806d3><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-fb4806d3 data-v-de04da4f><div class="content" data-v-de04da4f><div class="outline-marker" data-v-de04da4f></div><div class="outline-title" role="heading" aria-level="2" data-v-de04da4f>当前页大纲</div><nav aria-labelledby="doc-outline-aria-label" data-v-de04da4f><span class="visually-hidden" id="doc-outline-aria-label" data-v-de04da4f> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-de04da4f data-v-a0370602><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-fb4806d3></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-ea35ea47><div class="content-container" data-v-ea35ea47><!--[--><!--[--><!--[--><div class="page_info"><!----><!----><span class="page_info_item"> 📔 <span id="busuanzi_container_page_pv"> 阅读量：<span id="busuanzi_value_page_pv"></span></span></span></div><!--]--><!--]--><!--]--><main class="main" data-v-ea35ea47><div style="position:relative;" class="vp-doc _blog_%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80_%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD_%E6%99%BA%E8%83%BD%E5%8C%96%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95" data-v-ea35ea47><div><h1 id="智能化性能测试" tabindex="-1">智能化性能测试 <a class="header-anchor" href="#智能化性能测试" aria-label="Permalink to &quot;智能化性能测试&quot;">​</a></h1><p><img src="https://pic.imgdb.cn/item/64f054c7661c6c8e54ff4be0.png" alt=""></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =============================================</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Attribution ：Chengdu Test Team</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Time        : 2023/1/3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =============================================</span></span></code></pre></div><h2 id="一、简述" tabindex="-1">一、简述 <a class="header-anchor" href="#一、简述" aria-label="Permalink to &quot;一、简述&quot;">​</a></h2><p>智能化性能测试</p><p>通过自动化手段对应用进行性能测试，提供方便的环境部署、运行配置、用例编写等，用于桌面应用的冷热启动、资源拷贝、页面跳转等性能场景测试。</p><p>仓库地址：<a href="https://gerrit.uniontech.com/admin/repos/autotest-perf-aitest" target="_blank" rel="noreferrer">https://gerrit.uniontech.com/admin/repos/autotest-perf-aitest</a></p><h2 id="二、代码结构" tabindex="-1">二、代码结构 <a class="header-anchor" href="#二、代码结构" aria-label="Permalink to &quot;二、代码结构&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">autotest-perf-aitest</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apps</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">					# 存放所有应用性能测试脚本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conftest.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">				# pytest hook相关方法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CURRENT</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">					# 版本内容</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docs</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">					# 文档</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 键值对照表.pdf</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		 # 串口线code与按键的对照</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 性能自动化测试脚本执行器使用指南.md</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 执行器脚本使用指南</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> USB串口转USB键盘鼠标线协议文件V1.0.pdf</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 串口协议</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xserver-xorg-input-libinput-0.28.2.zip</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# Linux下绝对坐标操作依赖的源码，可根据架构打包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manage.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 功能主入口</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pytest.ini</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# pytst 配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> README.md</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> setting</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 设置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client.ini</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 测试机 IP 设置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 全局配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev_env.sh</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 宿主机环境部署脚本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose_no_relay.yml</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 无继电器容器集群</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose.yml</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 有继电器容器集群</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker_login.sh</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# docker 登陆</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> __init__.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> res</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> black.png</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 全黑图片，用于修改壁纸</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xserver-xorg-input-libinput_0.28.2-2_5000.deb</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 3A5000 架构鼠标绝对坐标依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xserver-xorg-input-libinput_0.28.2-2_amd64.deb</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# amd 架构鼠标绝对坐标依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xserver-xorg-input-libinput_0.28.2-2_arm64.deb</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# arm 架构鼠标绝对坐标依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xserver-xorg-input-libinput_0.28.2-2_mips64.deb</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# mips 架构鼠标绝对坐标依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xserver-xorg-input-libinput_0.28.2-2_sw_64.deb</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# sw 架构鼠标绝对坐标依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server.ini</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 服务器配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> setup.sh</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 容器环境部署脚本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> template</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 创建 app 基础脚本模板</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app_template</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     ├──</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${app_name}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_widget.py-tpl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> control-tpl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> images</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> readme</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> __init__.py-tpl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">${app_name}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_01_scene.json-tpl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test_</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">${app_name}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_01_scene.py-tpl</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uos_docker</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 容器环境配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dockerfile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">└──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> analysis_save.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 解析图片流结果，汇总生成 excel 报告</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> base_widget.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 封装的基础操作，应用调用的主入口方法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cmdctl.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# 调用命令行使用</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global_value.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 全局变量</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image_utils.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 图片相关方法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> __init__.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logger_utils.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 日志配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pdocr.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# ocr 配置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public_method.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 一些方便的封住</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> record.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# 录屏相关</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rtk</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">					# 运行相关</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> _base.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# 一些枚举</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> __init__.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install_env.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 安装环境</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> local_runner.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 运行用例</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> serial_communication</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 串口相关</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> __init__.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> power_control.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 继电器操作，使用继电器连接主机电源，控制开关机</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> serial_common.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 串口公共方法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    │  </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usb_mk.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# 键鼠操作基础封装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shortcut_key.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# 快捷键的封装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> singleton.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# 单例模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start_app.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# 创建 app</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> write_xlsx.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# 生成 excel</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># __init__.py 文件为标识该目录是一个Python的模块包，项目中的__init__.py均为空文件。</span></span></code></pre></div><h2 id="三、环境搭建" tabindex="-1">三、环境搭建 <a class="header-anchor" href="#三、环境搭建" aria-label="Permalink to &quot;三、环境搭建&quot;">​</a></h2><h3 id="_1、硬件环境" tabindex="-1">1、硬件环境 <a class="header-anchor" href="#_1、硬件环境" aria-label="Permalink to &quot;1、硬件环境&quot;">​</a></h3><h4 id="_1-设备清单" tabindex="-1">（1）设备清单 <a class="header-anchor" href="#_1-设备清单" aria-label="Permalink to &quot;（1）设备清单&quot;">​</a></h4><ul><li>测试机至少一台。</li><li>服务端一台。（仅支持 <code>AMD</code> 架构，若需其他架构，咨询相关开发人员）</li><li>采集盒一个。 （<code>ACASIS</code> <code>HDMI</code> 视频采集盒，<a href="https://item.jd.com/100013302599.html#crumb-wrap" target="_blank" rel="noreferrer">https://item.jd.com/100013302599.html#crumb-wrap</a> ）</li><li>USB串口转USB键鼠协议线。（优胜电子科技USB串口转USB键鼠协议线B类，<a href="https://item.taobao.com/item.htm?spm=a1z10.3-c.w4002-1385258877.57.7ea037891D6nKh&amp;id=611894882981" target="_blank" rel="noreferrer">https://item.taobao.com/item.htm?spm=a1z10.3-c.w4002-1385258877.57.7ea037891D6nKh&amp;id=611894882981</a> ）</li></ul><h4 id="_2-硬件环境搭建" tabindex="-1">（2）硬件环境搭建 <a class="header-anchor" href="#_2-硬件环境搭建" aria-label="Permalink to &quot;（2）硬件环境搭建&quot;">​</a></h4><ul><li>采集盒，<code>HDMI</code> 端连接测试机， <code>USB</code> 端连接到服务器上。</li><li><code>USB</code> 串口线，白色端连接服务器，黑色端连接测试机（<code>USB3.0</code> 接口上）。</li><li>如果需要可以接 <code>USB</code> 延长线。</li><li>测试机上可以不接显示器。</li></ul><h4 id="_3-服务端推荐配置" tabindex="-1">（3）服务端推荐配置 <a class="header-anchor" href="#_3-服务端推荐配置" aria-label="Permalink to &quot;（3）服务端推荐配置&quot;">​</a></h4><p>配置越高，解析速度越快。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">处理器:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Intel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Core</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">i3-10100</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CPU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.60</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">GHz</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (四核 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 八逻辑处理器</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">主板:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> B460-N2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">J</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">内存:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TF32D4U2S1MEH-8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DDR4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3200</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">MHz</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (0.3ns))</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">显示适配器:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> UHD</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Graphics</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 630</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">存储设备:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FORESEE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> P900F256GBH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (256 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">GB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)/ST1000DM003-1SB102 (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1.00</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> TB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="_2、测试机环境搭建" tabindex="-1">2、测试机环境搭建 <a class="header-anchor" href="#_2、测试机环境搭建" aria-label="Permalink to &quot;2、测试机环境搭建&quot;">​</a></h3><ul><li><p>打开控制中心，账户设置为【自动登录】和【无密码登录】，电源管理中使用电源全部设置为【从不】，开启开发者模式。</p></li><li><p>根据应用性能测试要求，导入相关测试资源，比如：导入相册、影院、音乐的测试资源。</p></li><li><p>在服务端打开相机应用后，将测试机桌面壁纸更换为纯色壁纸（注意，服务端需提前开启相机后再设置测试机壁纸，建议纯黑壁纸 <code>setting/res/black.png</code>）</p></li><li><p>在文件管理器中，将选项 主菜单-设置-预览-图片预览 取消勾选（如不取消，会影响截图录屏应用的性能数据）</p></li><li><p>移动或删除系统 Logo ，排除桌面右下角 Logo 的影响（重启生效）。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/share/deepin/uos_logo.svg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/Pictures/</span></span></code></pre></div></li><li><p>安装鼠标绝对坐标操作依赖（必须安装！！）</p><ul><li><p><code>AMD</code> 安装 <code>setting/res </code> 目录下 <code>xserver-xorg-input-libinput_0.28.2-2_amd64.deb</code></p></li><li><p><code>ARM</code> 安装 <code>setting/res </code> 目录下 <code>xserver-xorg-input-libinput_0.28.2-2_arm64.deb</code></p></li><li><p><code>MIPS</code> 安装 setting/<code>res </code> 目录下 <code>xserver-xorg-input-libinput_0.28.2-2_mips64.deb</code></p></li><li><p><code>3A5000</code> 安装 <code>setting/res </code> 目录下 <code>xserver-xorg-input-libinput_0.28.2-2_5000.deb</code></p></li><li><p>安装命令</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dkpg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xserver-xorg-input-libinput_0.28.2-2_amd64.deb</span></span></code></pre></div></li></ul><p>安装时会提示已存在相同版本，请忽略，直接覆盖安装，安装完成后，必须重启主机才生效</p></li></ul><h3 id="_3、服务端一键环境部署" tabindex="-1">3、服务端一键环境部署 <a class="header-anchor" href="#_3、服务端一键环境部署" aria-label="Permalink to &quot;3、服务端一键环境部署&quot;">​</a></h3><p>环境搭建前必须先连接上 <code>USB</code> 串口线和采集盒。</p><p>宿主机环境安装</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manage.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> host</span></span></code></pre></div><p>容器环境安装</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manage.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre></div><h2 id="四、配置项" tabindex="-1">四、配置项 <a class="header-anchor" href="#四、配置项" aria-label="Permalink to &quot;四、配置项&quot;">​</a></h2><h3 id="_1、服务端配置" tabindex="-1">1、服务端配置 <a class="header-anchor" href="#_1、服务端配置" aria-label="Permalink to &quot;1、服务端配置&quot;">​</a></h3><p><code>setting/config/server.ini</code></p><p>用于配置测试过程中的一些配置项，包含了所有服务端所有的可配置项。</p><ul><li><strong>本地无网络运行</strong><ul><li>将配置项 <code>network=0</code> 即可开始测试。</li></ul></li><li><strong>本地有网络运行</strong><ul><li>配置项 <code>network=1</code></li><li>(1)配置项 <code>client_alias=</code> 配置为你要测试的测试机别名，如 <code>Alias1</code> 测试机别名在 <code>setting/config/client.ini</code> 中进行配置，此时，直接运行 <code>python3 manager</code> 即可开始测试。</li><li>(2)配置项 <code>client_alias=</code> 为空，测试机别名在 <code>config/client.ini</code> 中进行配置，此时，直接运行 <code>python3 manager --client_alias Alias1</code>，即可开始测试。(<code>Alias1</code> 为你配置的测试机别名)</li><li>(1)和(2)只要使用其一即可。</li></ul></li><li><strong>有网络运行，且需要通过 <code>Jenkins</code> 上运行一个 <code>job</code> ，同时控制多台机器。</strong><ul><li>配置项 <code>network=1</code></li><li>配置项 <code>client_alias=</code> 不用配置，在运行 <code>run.sh</code> 的时候直接空格加别名即可，比如：测试机别名为 <code>Alias1</code> ，且已经在 <code>config/client.ini</code> 中配置了 <code>Alias1</code> 的<code>user</code> <code>ip</code> <code>password</code> ，则运行 <code>bash run.sh Alias1</code> 即可开始测试。</li><li>在 <code>Jenkins</code> <code>pipeline</code> 里面通过并行 <code>stage</code> 或并行调用下层任务的方式可以实现大规模的性能测试需求。</li></ul></li></ul><p><strong>详细配置项说明：</strong></p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;=============================== CASE CONFIG ===================================</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[case]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;执行的应用名称</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;为空表示执行 apps/ 目录下所有应用的用例</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">APP_NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;执行包含关键词的用例</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">KEYWORDS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;执行包含用例标签的用例</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TAGS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;1、KEYWORDS 和 TAGS 都为空表示执行 APP_NAME 的所有用例</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;2、KEYWORDS 和 TAGS 都支持逻辑组合，即 and/or/not 的表达式, e.g. TAGS = L1 or smoke</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[case_conf]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 尾帧识别的方式stage按阶段划分，ocr通过文案识别，match 图片匹配，ocr文案识别较慢，不推荐使用</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">find_by</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = stage</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 最后一个稳定阶段的帧数识别</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 首帧存在后的第一个大于该配置帧数的阶段的首帧作为性能尾帧</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">final_stable_num</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=100</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 从该帧数开始识别文案或图片，减少分析时间</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">start_num</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 150</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 识别的文案</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 识别图片</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">match</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=apps/xxx/images/match.png</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 识别相似度</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">match_rate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=0.9</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用例操作执行之后，停止录屏之前的等待时间，单位秒</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 比如热启动用例，从点击打开到停止录屏，中间等待5秒；</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">duration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 15</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 单条用例执行的次数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 5</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 稳定阶段划分的相似度</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">stable_similarity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 0.9997</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[server]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 调试模式=1，为开启调试模式，0为关闭。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 调试模式下默认只执行一次用例，不关机</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 编写用例的过程中建议开启maintain。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">MAINTAIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行的环境docker容器环境，host宿主机环境</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ENV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = docker</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 服务端密码</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PASSWORD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 指定测试机别名</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试机别名在 config/client.ini 中进行配置，比如：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># [AMD]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ip=10.8.15.86</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># user=uos</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 其中 AMD 为测试机别名，则client_alias=AMD</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CLIENT_ALIAS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = x86（Intel-i7）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1 开启网络, 0 关闭网络</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># （1）服务端与测试机须在同一网段下，你可以尝试在服务端通过ssh连接测试机，如果可以连接，说明网络正常。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># （2）当input_type=FILE_NAME 时，必须开启网络。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">NETWORK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 性能结果统计单位 毫秒—ms, 秒—s</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UNIT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=ms</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试机开机进入桌面后等待时间,单位/秒</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">STARTUP_DELAY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 60</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1为删除缓存，0为不删除缓存</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用例执行完后会在report目录下生成智能解析的一些缓存图片。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CACHE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 默认为空，报告会保存在项目下report目录中；</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 指定报告目录则存放到指定目录。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">REPORT_PATH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = report</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 服务端从测试机获取的icon资源会缓存在项目下input目录中</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INPUT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = input/</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1为测试完关机，0为测试完不关机</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SHUTDOWN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 解析进程数（不推荐修改）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3个进程解析视频已经能够满足，即使增加进程数也不能减少整体耗时</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 另外还要看CPU核数是否支持。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PARSING_PROCESS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1为使用继电器开关机，0为使用reboot命令重启。依赖继电器硬件设备，需要使用联系开发者</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RELAY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取测试应用的版本, %s 占位应用名</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果该配置为空，则不获取应用的版本信息。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">COMMAND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = apt policy %s 2&gt;/dev/null|grep </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;已安装&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|awk -F </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;：&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;{print \$2}&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 关机等待开启时间，单位秒</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 根据测试机性能不同，开关机耗时可能不同，根据实际测试机情况配置。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SHUTDOWN_DELAY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 30</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 可用于图像识别的图片格式，以英文逗号隔开。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 该配置项不建议修改，目前我们仅验证了jpg,jpeg,png这三种常用的图片格式。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INPUT_TYPES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = jpg,jpeg,png</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 性能分析补帧，等于或低于该值的不稳定阶段视为稳定阶段，在最后计算性能结果时需要减掉。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UN_STAB_START</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 3</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 服务端获取测试机图像的帧率，即每秒获取多少张测试机上的图像。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 默认帧率为30帧/秒，该配置项不建议修改，可能会对解析结果造成偏差。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FPS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 30</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 以下场景类型会重启测试机,多种场景使用逗号隔开</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SCENE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = cold</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;OCR服务端地址（不可随意修改）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">OCR_SERVER_HOST</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = http://10.8.13.78:8890</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#屏幕图片临时存放位置</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SCREEN_CACHE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = /tmp/screen</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =======================================</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[log]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 日志级别，OFF、FATAL、ERROR、WARN、INFO、DEBUG、ALL</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用例执行过程中的一些日志输出，log_cli=INFO表示 仅输出INFO及以上级别的日志。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LOG_LEVEL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = DEBUG</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 日志文件保存路径</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LOG_PATH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">= logs</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># =======================================</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[dockerhub]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 容器登陆账号</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DOCKER_USER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = user</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 容器登陆密码</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DOCKER_PASSWORD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = User1234</span></span></code></pre></div><h3 id="_2、测试机配置" tabindex="-1">2、测试机配置 <a class="header-anchor" href="#_2、测试机配置" aria-label="Permalink to &quot;2、测试机配置&quot;">​</a></h3><p><code>setting/config/client.ini</code></p><p>用于配置测试机的信息。</p><ul><li><p>有网络的情况下，服务端需要动态获取测试机上的一些资源，因此你需要写入 <code>测试机别名</code> 、 <code>user</code> 、<code>ip</code>、 <code>password</code> 。</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试机别名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[Alias1]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试机ip</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10.8.15.86 </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试机用户名</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=uos</span></span></code></pre></div><p>命名建议：<code>AliasA1</code>、<code>AliasA2</code>、<code>AliasB1</code>、<code>AliasB2</code>，不要重名。</p></li><li><p>无网络情况下，仅需要关注测试机分辨率配置项 <code>width=</code>、 <code>height=</code> 即可。</p></li></ul><p><strong>详细配置项说明：</strong></p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[client]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 默认测试机用户名，密码，ip</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试机密码</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试机主题</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">theme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=bloom</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试机icon目录</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=/usr/share/icons</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 系统desktop文件的存放目录，UOS系统默认为/usr/share/applications</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">desktop_path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=/usr/share/applications</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 用于判断测试机是否开机进入桌面的识别标识。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1、通过桌面图标识别。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - type=FILE_NAME时，服务器和测试机必须在同一局域网内。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - power_on=dde-computer表示通过桌面计算机图标判断开机进入桌面。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2、通过本地图片作为开机识别。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - type= 传入为图片格式，type支持的类型包含在server.ini内配置项input_type=jpg,jpeg,png。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#   - power_on= 传入的是本地图片的路径。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=FILE_NAME</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">power_on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=dde-computer</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试机分辨率配置（测试机连接采集盒，采集盒的分辨率）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1080</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1920</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[AliasA1]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10.8.15.86</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=uos</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># password=1 如果这里不写密码，默认取上面client里面的password</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[AliasA2]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=10.8.15.20</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=uos</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># password=1 如果这里不写密码，默认取上面client里面的password</span></span></code></pre></div><h3 id="_3、场景个性化配置" tabindex="-1">3、场景个性化配置 <a class="header-anchor" href="#_3、场景个性化配置" aria-label="Permalink to &quot;3、场景个性化配置&quot;">​</a></h3><p>随着测试场景的不断引入，发现现有服务端里的配置项并不适用于所有的性能场景，于是将服务端配置进行一个提取，可做单个场景的个性化配置，当然原来的服务端配置功能保留，只是当你配置了场景个性化配置后，优先使用个性化配置里面的内容，以下是对个性化配置的介绍。</p><p>目前每一个 py 文件对应一个性能测试场景，于是在同级目录下创建一个与之同名的 json 文件，作为个性化配置文件</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apps</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> album</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test_album_01_start.json</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 个性化配置文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test_album_01_start.py</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 性能场景文件</span></span></code></pre></div><p>以下是对 json 文件中配置的解释，若某项配置不需要，可以缺失，但不能为空；</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test_album_start&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,		</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 标题；必须</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;app_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepin-album&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,		</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 场景所属的应用；必须</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scene&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,					</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 场景别名；必须</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;icon&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepin-album&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],			</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 这条用例里面需要用到的所有icon，用例执行之前会从测试机上拷贝所有需要用的icon到服务端，用于图像识别。；可缺失</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">                                    #</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 注意：列表中元素为应用desktop文件的文件名，相册的desktop文件名为deepin-album.desktop，</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">                                    #</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 只需要写deepin-album即可，“.desktop”已经在底层做了拼接。</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {                         </span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 图片对比的区域设置项，某些应用当前屏幕的部分区域需要将其去掉，可以设置此项，如果没有则可不写；可确实</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;x-coordinate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,				</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 左上角横坐标</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;y-coordinate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,				</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 左上角纵坐标</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;width&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">850</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,					</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 横向长度</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;height&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1920</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">					#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 纵向高度</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;count&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,						</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 场景执行的次数；必须</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,					</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 该条用例操作执行之后，停止录屏之前的等待时间，单位秒，针对于某些特定场景，该配置为可选项，覆盖</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> server.ini</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 中的配置；可缺失</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;stable_similarity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.9997</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,		</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 性能场景分阶段时的图片相似度对比，前后图片低于该值，则分为不稳定阶段；可缺失</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;find_by&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;stage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,               </span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 尾帧识别的方式stage按阶段划分，ocr通过文案识别，match</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 图片匹配</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;final_stable_num&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 查找最后一个大于该值的稳定阶段的首帧作为性能的尾祯；可缺失</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;start_num&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">150</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;text&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                       </span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> ocr识别的文案</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;match&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;apps/xxx/images/match.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">#</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 图像匹配的图片文件路径</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;match_rate&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.9</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">                       #</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> 匹配相似度</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="五、测试流程" tabindex="-1">五、测试流程 <a class="header-anchor" href="#五、测试流程" aria-label="Permalink to &quot;五、测试流程&quot;">​</a></h2><p><img src="https://pic.imgdb.cn/item/64f054cb661c6c8e54ff5034.png" alt=""></p><h2 id="六、用例编写及方法参数指引" tabindex="-1">六、用例编写及方法参数指引 <a class="header-anchor" href="#六、用例编写及方法参数指引" aria-label="Permalink to &quot;六、用例编写及方法参数指引&quot;">​</a></h2><h3 id="_1、用例实例说明" tabindex="-1">1、用例实例说明 <a class="header-anchor" href="#_1、用例实例说明" aria-label="Permalink to &quot;1、用例实例说明&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 标准库导入</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> time </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sleep</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 导入三方库pytest</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pytest</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 导入用例执行要用到的Widget类</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src.base_widget </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseWidget</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TestStart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # class级别的fixture，测试用例执行之前执行。autouse=True 自动在当前作用域下使用。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  @pytest.fixture</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">scope</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;class&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">autouse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 测试热启动之前需要预启动。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> application_pre_start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 入参规则在第2点中详细描述。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    BaseWidget().right_click_element(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepin-album&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 入参规则在第2点中详细描述。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    BaseWidget().click_element(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;apps/autotest_deepin_album/picture/open.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">input_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sleep(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 快捷键关闭窗口</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    BaseWidget().hot_key(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;alt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;f4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sleep(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 默认为function级别的fixture，用例执行之前，class级别fixture执行之后执行。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  @pytest.fixture</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">autouse</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup_start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 右键点击 deepin-album 图标</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    BaseWidget().right_click_element(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;deepin-album&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 移动到右键菜单中打开（open.png）</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 入参规则在第2点中详细描述。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    BaseWidget().move_to(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BaseWidget().find_element(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;apps/autotest_deepin_album/picture/open.png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">input_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;png&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 等待移动完成</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    sleep(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test_album_start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 点击“打开”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    BaseWidget().click()</span></span></code></pre></div><h3 id="_2、方法参数说明" tabindex="-1">2、方法参数说明 <a class="header-anchor" href="#_2、方法参数说明" aria-label="Permalink to &quot;2、方法参数说明&quot;">​</a></h3><p>2.1、<strong><code>find_element</code> 方法</strong></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> find_element</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(element: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, input_type: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;FILE_NAME&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fill_color_position: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">tuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), size: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">tuple</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    pass</span></span></code></pre></div><ul><li><p><strong>参数 <code>element</code> 和 <code>input_type</code></strong></p><p><strong>（1）通过应用 <code>icon</code> 识别元素</strong></p><ul><li><code>input_type</code> 参数为默认参数，默认值为 <code>FIEL_NAME</code> ，表示通过应用 <code>icon</code> 寻找元素，此方法会动态获取测试机上的应用 <code>icon</code> 图标。</li><li>举例：默认情况下 <code>input_type </code> 参数不需要传入， <code>find_element(&quot;deepin-album&quot;)</code>，表示通过 <code>deepin-album</code> 的应用 <code>icon</code> 来获取坐标，注意，此时传入的 <code>deepin-album</code> 参数实际是 <code>desktop</code>文件的文件名，和2.3中的 <code>icon</code> 变量一致。</li><li>我们建议优先使用这种方法，但此方法依赖网络，请根据测试环境实际情况选择。</li></ul><p><strong>（2）通过本地图片识别元素</strong></p><ul><li>参数 <code>input_type</code> 传入图片格式，比如截取的本地图片格式为 <code>png</code>，那么 <code>input_type=&quot;png&quot;</code>，此时参数 <code>element </code> 传入图片的路径，建议存放在对应的产品 <code>apps/app/picture/</code> 目录下，路径为项目根目录下的相对路径。</li><li>举例：<code>find_element(&quot;apps/autotest_deepin_album/picture/open.png&quot;, input_type=&quot;png&quot;))</code>，表示通过本地图片 <code>open.png</code> 识别元素。</li></ul></li><li><p><strong>参数 <code>fill_color_position</code></strong></p><ul><li><code>fill_color_position</code> 参数为默认参数，默认值为 <code>(-1, -1)</code>，<code>(-1, -1)</code> 表示取屏幕中右下角最后一个像素点作为填充坐标，在 <code>1920x1080</code> 屏幕分辨率下即实际坐标为 <code>(1919, 1079)</code> ，这样的写法可以适配不同大小的屏幕。</li><li>任务栏在屏幕不同方位： <ul><li>任务栏在屏幕下方，从任务栏启动不需要传入该参数。</li><li>任务栏在屏幕左边，<code>fill_color_position=(1, 1)</code></li><li>任务栏在屏幕右边，<code>fill_color_position=(-1, -1)</code></li><li>任务栏在屏幕上边，<code>fill_color_position=(1, 1)</code></li></ul></li><li>从桌面启动应用，则需要传入除任务栏以外其他位置的坐标，比如(100, 100)，只要这个坐标为除应用和任务栏区域都可以。</li><li>从启动器里面启动应用，需要填充的坐标为启动器区域。</li></ul><p>注：通过应用 <code>icon</code> 识别时，从测试机获取的 <code>icon</code> 原文件为 <code>svg</code> 矢量图，转换为 <code>png</code> 之后需要填充边缘透明部分。</p></li><li><p><strong>参数 <code>size</code></strong></p><ul><li><code>size</code> 参数为默认参数，默认值为 <code>(25, 70)</code>，表示测试机上 <code>dock</code> 栏上应用图标的大小范围。</li><li><code>UOS</code> 系统 <code>dock</code> 栏是可以上下拖动大小的，随着 <code>dock</code> 栏大小改变，应用图标的范围为25到70之间。</li><li>如果你的测试机操作系统上 <code>dock</code> 栏大小不一样，可以根据实际情况传入大小范围。</li></ul></li></ul><p>2.2、<code>click_element</code>、 <code>right_click_element</code>， <code>double_click_element</code> 这几个方法参数规则与 <code>find_element</code> 方法一样。他们实际上是在 <code>find_element</code> 方法基础之上做了二次封装，增加了鼠标的动作，如果你不想使用这几个方法，在用例中也可以通过 <code>find_element</code> 获取到坐标，然后将坐标传入到键鼠的方法中，可以实现同样的效果。</p><p>2.3、用例类中有个类变量 <code>icon = [&quot;deepin-album&quot;] </code> 需要特殊说明，列表中的元素为这条用例里面需要用到的所有 <code>icon</code>，用例执行之前会从测试机上拷贝所有需要用的 <code>icon</code> 到服务端用于图像识别。列表中元素为应用 <code>desktop</code> 文件的文件名，相册的 <code>desktop</code> 文件名为 <code>deepin-album.desktop</code>，只需要写 <code>deepin-album</code> 即可，<code>.desktop </code> 已经在底层做了拼接。</p><h2 id="七、执行入口" tabindex="-1">七、执行入口 <a class="header-anchor" href="#七、执行入口" aria-label="Permalink to &quot;七、执行入口&quot;">​</a></h2><h3 id="_1、用例组织" tabindex="-1">1、用例组织 <a class="header-anchor" href="#_1、用例组织" aria-label="Permalink to &quot;1、用例组织&quot;">​</a></h3><p>在 <code>setting/config/server.ini</code> 文件中 <code>APP_NAME= </code> 字段为用例的执行的目录，默认为 <code>apps</code> 目录下所有用例。如果你想指定执行某一个应用的用例，你可以将该配置项指定到应用的用例目录，比如：<code>APP_NAME=deepin_album</code>， 表示执行相册目录下的用例。</p><h3 id="_2、命令行参数" tabindex="-1">2、命令行参数 <a class="header-anchor" href="#_2、命令行参数" aria-label="Permalink to &quot;2、命令行参数&quot;">​</a></h3><p>通过命令行参数配置参数</p><p>以下为 <code>python3 manage.py run</code> 提供的一些参数选项：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> APP,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> APP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     应用名称：deepin-music</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -k</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> KEYWORDS,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --keywords</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> KEYWORDS</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">                        用例的关键词</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> TAGS,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tags</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> TAGS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  用例的标签</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --log_level</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LOG_LEVEL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 日志输出级别</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {host,docker}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 在宿主机或容器环境执行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --client_alias</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  选择测试机别名,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 可选项为client.ini中已配置,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 默认值为</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zx-x86.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --count</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 指定用例执行次数</span></span></code></pre></div><p>在一些 CI 环境下使用命令行参数会更加方便：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> manage.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deepin-music</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --keywords</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;xxx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tags</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;xxx&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre></div><p>注：在容器中执行时，若强制退出，容器并不会停止运行！</p><h2 id="八、测试报告" tabindex="-1">八、测试报告 <a class="header-anchor" href="#八、测试报告" aria-label="Permalink to &quot;八、测试报告&quot;">​</a></h2><h3 id="_1、json-报告" tabindex="-1">1、Json 报告 <a class="header-anchor" href="#_1、json-报告" aria-label="Permalink to &quot;1、Json 报告&quot;">​</a></h3><p>自研视频解析工具会对单条用例执行一轮生成一个 <code>json</code> 文件，存放于 <code>report/{app_name}/{scene}/{run_num}</code> 目录下，命名格式为：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">report.json</span></span></code></pre></div><p><code>json</code> 内容举例：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;Stab1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;images&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">150</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">151</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;startStub&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Stab&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;Stab2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;images&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">152</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">153</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">169</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">170</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;startStub&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UnStab&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;Stab3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;images&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">171</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">172</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">301</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;startStub&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UnStab&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>说明：</p><ul><li><code>Stab</code> ：表示解析过程中不同的阶段。</li><li><code>images</code> ：表示每一帧的图片序号。</li><li><code>startStub</code>： 为识别尾帧的阶段表示，如果 <code>&quot;startStub&quot;: 1</code> ，说明尾帧出现在该阶段。</li><li><code>type</code>： 为 <code>Stab</code> 或 <code>UnStab</code> ，表示稳定阶段或不稳定阶段。</li></ul><p>各阶段有帧数补偿，默认补偿的帧数为 3 帧（可以通过 <code>server.ini</code> 里面 <code>un_stab_start=3</code> 进行配置），表示小于等于 3 帧的不稳定阶段视为稳定阶段，在最后计算性能结果时前后均需要减掉。</p><p>应用启动阶段就是在 <code>Stab2</code> 阶段，启动时间为：171 减 151 再减掉前后补偿帧数 6 帧，即 14 帧，视频帧率 30 帧/秒，因此启动耗时为：14 * 33 = 462 ms</p><h3 id="_2、excel-报告" tabindex="-1">2、Excel 报告 <a class="header-anchor" href="#_2、excel-报告" aria-label="Permalink to &quot;2、Excel 报告&quot;">​</a></h3><p>所有用例执行并解析完之后会 <code>report</code> 目录下生成一个汇总数据的 <code>Excel</code> 文件，文件名为：<code>{time}_perf_time.xlsx</code>。</p><p>注意，<code>report</code> 目录为可配置项，默认情况下会在项目根目录下生成，如果你将 <code>report</code>，指定到项目下其他路径，则会在对应的路径下生成 <code>json</code> 和 <code>Excel</code> 文件。</p><p>你也可以根据需要读取所有 <code>json</code> / <code>excel</code> 报告的数据，生成你自己想要的一些测试报告形式。</p><h2 id="九、usb-串口驱动键鼠方法" tabindex="-1">九、USB 串口驱动键鼠方法 <a class="header-anchor" href="#九、usb-串口驱动键鼠方法" aria-label="Permalink to &quot;九、USB 串口驱动键鼠方法&quot;">​</a></h2><p>位于 <code>src/utils/control/serial_communication</code> 目录下的 <code>usb_mk.py</code> 文件</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UsbMk()</span></span></code></pre></div><h3 id="_1、键盘操作" tabindex="-1">1、键盘操作 <a class="header-anchor" href="#_1、键盘操作" aria-label="Permalink to &quot;1、键盘操作&quot;">​</a></h3><p>（1）按下键盘按键</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.press_key(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;enter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按下键盘enter键</span></span></code></pre></div><p>（2）按下键盘按键并且不放</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.press_key_down(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;enter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按下键盘enter键不放</span></span></code></pre></div><p>（3）组合按键</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.hot_key(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ctrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;alt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;T&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按下组合按键ctrl+alt+T调起终端</span></span></code></pre></div><p>（4）组合按键不放</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.hot_key_down(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ctrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;alt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;T&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按下组合按键ctrl+alt+T调起终端不放</span></span></code></pre></div><p>（5）释放所有键盘按键</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.key_up()</span></span></code></pre></div><p>（6）键盘输入字符串（支持传入汉字，会自动转成拼音输入）</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.hot_key(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ctrl&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;alt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;T&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按下组合按键ctrl+alt+T调起终端</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.input_text(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;reboot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输入字符串reboot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.press_key(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;enter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按下键盘enter键</span></span></code></pre></div><h3 id="_2、鼠标操作" tabindex="-1">2、鼠标操作 <a class="header-anchor" href="#_2、鼠标操作" aria-label="Permalink to &quot;2、鼠标操作&quot;">​</a></h3><p>（1）按下鼠标左键</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.click()</span></span></code></pre></div><p>（2）按下鼠标左键不放</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.mouse_down()</span></span></code></pre></div><p>（3）释放鼠标所有按键</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.mouse_up()</span></span></code></pre></div><p>（4）按下鼠标右键</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.right_click()</span></span></code></pre></div><p>（5）鼠标左键双击</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.double_click()</span></span></code></pre></div><p>（6）恢复鼠标至初始位置，默认左上角</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.move_to_init()</span></span></code></pre></div><p>（7）移动鼠标至相对坐标</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.move_rel(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 鼠标向左边移动100个像素，向下移动200个像素</span></span></code></pre></div><p>（8）以屏幕左上角为圆心坐标移动鼠标至屏幕绝对坐标</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.move_to(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 鼠标移动至屏幕坐标（100, 200）</span></span></code></pre></div><p>（9）按下鼠标左键，拖动到绝对坐标位置</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.drag_to(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按下鼠标拖动至屏幕坐标（100, 200）</span></span></code></pre></div><p>（10）按下鼠标左键，拖动到相对坐标位置</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usb_mk.drag_rel(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 鼠标向左边移动100个像素，向下移动200个像素</span></span></code></pre></div><h2 id="十、继电器控制主机开机-重启" tabindex="-1">十、继电器控制主机开机/重启 <a class="header-anchor" href="#十、继电器控制主机开机-重启" aria-label="Permalink to &quot;十、继电器控制主机开机/重启&quot;">​</a></h2><p>（若不使用继电器，可忽略该步骤，执行时会通过命令 <code>reboot</code>）</p><h3 id="_1、继电器设备" tabindex="-1">1、继电器设备 <a class="header-anchor" href="#_1、继电器设备" aria-label="Permalink to &quot;1、继电器设备&quot;">​</a></h3><p><code>LCUS-2</code> 型 双路 <code>USB</code> 智能串口控制继电器。</p><p><a href="https://item.taobao.com/item.htm?spm=a1z09.2.0.0.41d72e8dUYx2pi&amp;id=582653718178&amp;_u=i25r20ia6a2e" target="_blank" rel="noreferrer">https://item.taobao.com/item.htm?spm=a1z09.2.0.0.41d72e8dUYx2pi&amp;id=582653718178&amp;_u=i25r20ia6a2e</a></p><p><img src="https://pic.imgdb.cn/item/64f054cb661c6c8e54ff5091.png" alt=""></p><h3 id="_2、usb-延长线" tabindex="-1">2、USB 延长线 <a class="header-anchor" href="#_2、usb-延长线" aria-label="Permalink to &quot;2、USB 延长线&quot;">​</a></h3><p>普通的 <code>USB</code> 线即可。</p><p><img src="https://pic.imgdb.cn/item/64f054cb661c6c8e54ff50a9.png" alt=""></p><h3 id="_3、杜邦线" tabindex="-1">3、杜邦线 <a class="header-anchor" href="#_3、杜邦线" aria-label="Permalink to &quot;3、杜邦线&quot;">​</a></h3><p>3.1、<code>40P</code> 母对公杜邦线。</p><p><img src="https://pic.imgdb.cn/item/64f054cb661c6c8e54ff50db.png" alt=""></p><p>3.2、一母二公杜邦线。</p><p><img src="https://pic.imgdb.cn/item/64f054cb661c6c8e54ff5102.png" alt=""></p><h3 id="_4、安装图文教程" tabindex="-1">4、安装图文教程 <a class="header-anchor" href="#_4、安装图文教程" aria-label="Permalink to &quot;4、安装图文教程&quot;">​</a></h3><p>4.1、使用 <code>USB</code> 延长线连接控制端和继电器。</p><p><img src="https://pic.imgdb.cn/item/64f054cb661c6c8e54ff5140.png" alt=""></p><p>4.2、在继电器常端和公共端均连接一根杜邦线。</p><p><img src="https://pic.imgdb.cn/item/64f054cc661c6c8e54ff5182.png" alt=""></p><p>4.3、在主板上开机针和重启针上插上一母二公杜邦线。</p><p><img src="https://pic.imgdb.cn/item/64f054cc661c6c8e54ff51c2.png" alt=""></p><p>4.4、将开机针外接的一母二公杜邦线的两根公线分别接入继电器的1路继电器（如图 1左侧继电器）和原电源开关。</p><p>4.5、将重启针外接的一母二公杜邦线的两根公线分别接入继电器的2路继电器（如图 1 右侧继电器）和原电源开关。</p><p><img src="https://pic.imgdb.cn/item/64f054cc661c6c8e54ff523e.png" alt=""></p><p>若想保留原电源开关的电源灯，可根据如上图所示，使用杜邦线连接主板上的电源灯和原电源开关</p><h2 id="十一、常见问题说明" tabindex="-1">十一、常见问题说明 <a class="header-anchor" href="#十一、常见问题说明" aria-label="Permalink to &quot;十一、常见问题说明&quot;">​</a></h2><p><strong>1、</strong><code>ERROR: for uos Cannot restart container 2301b1a1395d7959ee6523d61b61c87084649af530786cdb8fb5b3ecbcbd1068: linux runtime spec devices: error gathering device information while adding custom device &quot;/dev/ttyACM0&quot;: no such file or directory</code></p><p>检查 USB 串口线连接状态，查看 <code>/dev/ttyACM0</code> 是否存在，若存在 <code>/dev/ttyACMn</code>（n为任意数字），重启电脑解决。</p><p><strong>2、</strong><code>Error response from daemon: Container 5e700fdc769e8c74666d68a7f2bc3de58268b4594cf88706609d59f8dbc7362d is not running</code></p><p>容器启动失败</p><p>1）检查哪一个容器未启动</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> container</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 列出运行中的 Docker 容器</span></span></code></pre></div><p><img src="https://pic.imgdb.cn/item/64f054cc661c6c8e54ff524b.png" alt=""></p><p>2）缺少 uos 容器，检查 USB 串口连接线和采集盒连接线是否正常，重启后执行</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install/setup.up</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 重新完整部署环境</span></span></code></pre></div><p>或执行</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# 仅重新构建 Docker 镜像</span></span></code></pre></div><p>**3、**若部署时提示挂载 <code>ttyACM0</code>、<code>video0</code> 失败，请检查 USB 串口线及采集盒是否接触良好，若接触良好，重启即可解决。</p><p>4、若出现图片能识别，但是鼠标未移动操作时，安装绝对鼠标操作的依赖包，见第三节第二小节测试机环境搭建，安装完成后，必须重启测试机。</p><p>5、由于通过采集卡获取的测试机实时画面，包含了鼠标的样式，所以对图片识别时，鼠标若停留在图标上层，则会对识别结果造成影响，需要将鼠标移动至其他位置，或者隐藏鼠标解决。</p><p>6、Excel 报告中，测试场景列与用例中的不一致，关键字scene、app_name、架构别名，不能包含下划线和英文符号的圆括号。</p></div></div></main><footer class="VPDocFooter" data-v-ea35ea47 data-v-c7a8f1a0><!--[--><!--]--><div class="edit-info" data-v-c7a8f1a0><!----><div class="last-updated" data-v-c7a8f1a0><p class="VPLastUpdated" data-v-c7a8f1a0 data-v-0221b6f4>最后更新于: <time datetime="2025-01-14T18:59:23.000Z" data-v-0221b6f4></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-1d3da264 data-v-ed20d17b><div class="container" data-v-ed20d17b><!----><p class="copyright" data-v-ed20d17b>版权所有 © 2020-2025 mikigo</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about.md\":\"0toQCkCG\",\"index.md\":\"B2iNJm46\",\"分享有趣_常见问题_git报错.md\":\"DURj0v-m\",\"分享有趣_常见问题_pycharm问题.md\":\"5XW89doG\",\"分享有趣_常见问题_shell问题随记.md\":\"BFrpqVGi\",\"分享有趣_常见问题_vscode远程环境开发指南.md\":\"DpZdtHRi\",\"分享有趣_常见问题_wayland下sniff报错.md\":\"ixrHzLIy\",\"分享有趣_常见问题_emoji不显示.md\":\"D9uBrp8g\",\"分享有趣_常见问题_ftp服务器无法连接问题.md\":\"VQ_UNClt\",\"分享有趣_常见问题_前端问题.md\":\"w0sX1QiG\",\"分享有趣_常见问题_域管客户端自动化执行失败问题.md\":\"_m-XIZNl\",\"分享有趣_常见问题_报错python字符串不相等.md\":\"CPwZFZ6D\",\"分享有趣_常见问题_自动化过程.md\":\"B3mgwi3x\",\"分享有趣_常见问题_锁屏界面被长时间锁住问题.md\":\"CqpAln0J\",\"分享有趣_经验总结_at代码提交流程与常见场景.md\":\"B4EkcSne\",\"分享有趣_经验总结_at开发规范.md\":\"CZq6Z_hJ\",\"分享有趣_经验总结_at用例筛选指北.md\":\"C5X8hIw9\",\"分享有趣_经验总结_at经验总结.md\":\"C1wQxPHa\",\"分享有趣_经验总结_udcp 自动化过程中记录.md\":\"BMgubcZo\",\"分享有趣_经验总结_youqu-远程交互式控制.md\":\"D9EG8VK5\",\"分享有趣_经验总结_中文文案排版指北.md\":\"CqaW2wEJ\",\"分享有趣_读书笔记_openstack系统架构设计实战.md\":\"DMwGfhk9\",\"分享有趣_读书笔记_大型网站技术架构.md\":\"DPlr-9DV\",\"分享有趣_读书笔记_活法.md\":\"DgqH7-B5\",\"分享有趣_读书笔记_生成式ai：人工智能的未来.md\":\"BD8QpXn0\",\"技术文档_专利交底书_一种dock栏展示和交互方法技术交底书.md\":\"BWPssgoo\",\"技术文档_专利交底书_一种基于linux系统执行自动化测试用例实现负载均衡的技术交底书.md\":\"CbdpSCyI\",\"技术文档_专利交底书_一种基于图像识别的桌面应用控件智能标注的交底书.md\":\"CIeD9Xfl\",\"技术文档_专利交底书_一种基于机器学习智能识别元素控件的ui自动化测试方法.md\":\"DGYp-x_m\",\"技术文档_专利交底书_一种定位目标图片坐标的图像识别技术交底书.md\":\"YMlXX1Qn\",\"技术文档_专利交底书_一种对使用linux包管理器安装的python包进行虚拟化的技术交底书.md\":\"CDR456a7\",\"技术文档_专利交底书_一种机器分离的应用响应性能自动化测试方案技术交底书.md\":\"C5QRnsL1\",\"技术文档_专利交底书_一种系统文件基于事物属性对其进行多维度多空间管理方法的交底书.md\":\"CSILmwFU\",\"技术文档_专利交底书_一种自动化测试用例步骤中断后恢复执行的技术交底书.md\":\"C4Mlfv3C\",\"技术文档_专利交底书_一种自动安装镜像的技术交底书.md\":\"n6GTTw1J\",\"技术文档_专利交底书_一种针对linux系统异常命令的测试方法技术交底书.md\":\"BgVoqJ-c\",\"技术文档_专利交底书_基于shell的测试框架技术交底书.md\":\"23lgTedG\",\"技术文档_专利交底书_基于视频播放器外部获取播放中视频fps的测试技术交底书.md\":\"wnBw3f6U\",\"技术文档_技术调研_wayland键鼠模拟工具技术调研.md\":\"baLDTUNf\",\"技术文档_技术调研_youqu3中断任务续跑功技术能调研.md\":\"CeqaFq3O\",\"技术文档_技术调研_《avocado和youqu对比》调研报告.md\":\"BLK4Mqlo\",\"技术文档_技术调研_《可用于uos桌面应用性能自动化工具》调研报告.md\":\"BqE-gAwK\",\"技术文档_技术调研_《命令行用例转换自动化测试》调研报告.md\":\"Cf6cAeGu\",\"技术文档_技术调研_《应用于桌面应用压力测试的模拟输入工具》调研报告.md\":\"DYTIrKZp\",\"技术文档_技术调研_《获取影院播放视频fps方法》调研报告.md\":\"Cf9AajCC\",\"技术文档_技术调研_《针对pms用例数据检查与自动化工程csv文件数据同步的方法》调研报告.md\":\"D8OO4TmK\",\"技术文档_技术调研_域管自动化测试技术调研.md\":\"Dwwxl5P6\",\"技术文档_根因分析_python调用动态库运行时报静态tls块不能分配内存根因分析报告.md\":\"TeiJ0rAe\",\"技术文档_根因分析_rootfs进入mate桌面后打开终端不能执行reboot指令根因分析.md\":\"g2dHvzJt\",\"编程基础_jenkins_jenkins环境搭建以及任务创建.md\":\"BDjGVwuB\",\"编程基础_jenkins_pipeline语法介绍.md\":\"CWO3lCHV\",\"编程基础_linux_工具使用_docker入门.md\":\"DoIwCTGK\",\"编程基础_linux_工具使用_ffmpeg常用命令与参数解释.md\":\"BbCwEL1k\",\"编程基础_linux_工具使用_ftp服务搭建.md\":\"gjYj7rhN\",\"编程基础_linux_工具使用_kvm安装配置及使用说明.md\":\"ezGUo9e4\",\"编程基础_linux_工具使用_nginx入门使用.md\":\"CluZB5l3\",\"编程基础_linux_工具使用_dde-dconfig使用.md\":\"DkkyTUsI\",\"编程基础_linux_工具使用_vim配置和插件选择.md\":\"Bn8dTqT3\",\"编程基础_linux_方案教程_linux上sudo免密.md\":\"D-bVErKh\",\"编程基础_linux_方案教程_linux上远程桌面vnc配置.md\":\"DWFnYcZ3\",\"编程基础_linux_方案教程_linux基础.md\":\"4BGi9Yko\",\"编程基础_linux_方案教程_u盘新建分区和文件系统.md\":\"B10ZC7jC\",\"编程基础_linux_方案教程_deb安装包制作.md\":\"aY9FFRIu\",\"编程基础_linux_方案教程_配置开机自启服务.md\":\"DJ98kt92\",\"编程基础_python_linux上如何选择用pip3还是sudopip3.md\":\"DnwBuMdv\",\"编程基础_python_linux上安装python3.9.9.md\":\"DBRT4KXW\",\"编程基础_python_python从进阶到高级—通俗易懂版.md\":\"BRALxftk\",\"编程基础_python_python包构建和发布.md\":\"BNc6dxNe\",\"编程基础_python_python基础语法—8小时入门版.md\":\"8773xCPm\",\"编程基础_python_python最强静态代码检查_格式化工具ruff.md\":\"Q6gEcoqm\",\"编程基础_python_python环境与依赖管理.md\":\"C1I2gJJZ\",\"编程基础_python_python风格指南.md\":\"Dmuxpsth\",\"编程基础_python_常用的获取随机字符串的方法.md\":\"D0CCDNIW\",\"编程基础_python_配置python源的几种方法.md\":\"C0za45JC\",\"编程基础_shell_shell参数传递.md\":\"C44cwbX2\",\"编程基础_shell_shell变量使用.md\":\"PMbBgrBa\",\"编程基础_shell_shell字符串处理.md\":\"DQzs2UBS\",\"编程基础_shell_shell数学运算.md\":\"ByKZPVk2\",\"编程基础_shell_shell编码规范错误参考手册.md\":\"O_P6BPTs\",\"编程基础_shell_shell进程控制.md\":\"zIxbUHaE\",\"编程基础_shell_shell风格指南.md\":\"Oj-pddjB\",\"编程基础_人工智能_图像_mmdetection入门基础.md\":\"CZfTKBSi\",\"编程基础_人工智能_图像_nvidia驱动_cuda_cudnn安装.md\":\"DaRfwmp_\",\"编程基础_人工智能_图像_opencv(python)基础—9小时入门版.md\":\"BZl98Yav\",\"编程基础_人工智能_智能化功能测试.md\":\"CQGj7QBo\",\"编程基础_人工智能_智能化性能测试.md\":\"BuUsErdl\",\"编程基础_前后端_前端_css 基础.md\":\"CYqZk16V\",\"编程基础_前后端_前端_js基础.md\":\"fUfWjlEa\",\"编程基础_前后端_前端_linux上安装nodejs.md\":\"CFPCYOLI\",\"编程基础_前后端_前端_vue基础.md\":\"BuQadYuB\",\"编程基础_前后端_前端_web基础.md\":\"DRIrrgkc\",\"编程基础_前后端_前端_html基础.md\":\"sItO6XyR\",\"编程基础_前后端_前端_测开前端学习基础分享.md\":\"Z1XoST9X\",\"编程基础_前后端_前端_研测平台权限管理前端设计.md\":\"CI1hfydB\",\"编程基础_前后端_后端_django基础知识.md\":\"Cvyd3rgF\",\"编程基础_前后端_后端_django进阶技巧.md\":\"Cqi_wrU-\",\"编程基础_前后端_后端_fastapi—8小时入门版.md\":\"BXjYUcKo\",\"编程基础_前后端_后端_mysql基础.md\":\"CehW3px2\",\"编程基础_网络爬虫_接口请求工具_httpx.md\":\"CkW2FFaU\",\"编程基础_网络爬虫_接口请求工具_requests.md\":\"_P0gdcTO\",\"编程基础_网络爬虫_爬虫框架_scrapy.md\":\"D8fO3v-M\",\"自动化技术_ui自动化_appium—6小时入门版.md\":\"BllYOvdg\",\"自动化技术_ui自动化_playwright—8小时入门版.md\":\"DPM9h6Ee\",\"自动化技术_ui自动化_selenium—8小时入门版.md\":\"iy6ioJ0Y\",\"自动化技术_性能自动化_jmeter—10小时入门版.md\":\"k-SeYGVu\",\"自动化技术_性能自动化_locust—2小时入门版.md\":\"t6hKKmng\",\"自动化技术_接口自动化_httprunner-2小时入门版.md\":\"B1hSbdqr\",\"自动化技术_自动化思想理念_pageobjects.md\":\"BjjvYSxZ\",\"自动化技术_自动化思想理念_rpa测试技术.md\":\"B34lAOPS\",\"自动化技术_自动化测试框架_pytest从入门到起飞.md\":\"BCL0r9Bi\",\"自动化技术_自动化测试框架_unittest—3小时入门版.md\":\"C7LIaFNE\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"Blog | 技术博客\",\"description\":\"专注于测试方向的技术分享交流平台\",\"base\":\"/blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"mikigo blog\",\"nav\":[{\"text\":\"🏠首页\",\"link\":\"/index\"},{\"text\":\"自动化技术\",\"items\":[{\"text\":\"UI自动化\",\"link\":\"/自动化技术/UI自动化/Playwright—8小时入门版\"},{\"text\":\"性能自动化\",\"link\":\"/自动化技术/性能自动化/Locust—2小时入门版\"},{\"text\":\"接口自动化\",\"link\":\"/自动化技术/接口自动化/HttpRunner-2小时入门版\"},{\"text\":\"自动化思想理念\",\"link\":\"/自动化技术/自动化思想理念/PageObjects\"},{\"text\":\"自动化测试框架\",\"link\":\"/自动化技术/自动化测试框架/Pytest从入门到起飞\"}]},{\"text\":\"编程基础\",\"items\":[{\"text\":\"Python\",\"link\":\"/编程基础/Python/Linux上如何选择用pip3还是sudopip3\"},{\"text\":\"Shell\",\"link\":\"/编程基础/Shell/Shell编码规范错误参考手册\"},{\"text\":\"Linux\",\"link\":\"/编程基础/Linux/工具使用/KVM安装配置及使用说明\"},{\"text\":\"人工智能\",\"link\":\"/编程基础/人工智能/图像/MMDetection入门基础\"},{\"text\":\"前后端\",\"link\":\"/编程基础/前后端/前端/Linux上安装Nodejs\"},{\"text\":\"网络爬虫\",\"link\":\"/编程基础/网络爬虫/接口请求工具/Httpx\"},{\"text\":\"Jenkins\",\"link\":\"/编程基础/Jenkins/Jenkins环境搭建以及任务创建\"}]},{\"text\":\"技术文档\",\"items\":[{\"text\":\"专利交底书\",\"link\":\"/技术文档/专利交底书/一种定位目标图片坐标的图像识别技术交底书\"},{\"text\":\"技术调研\",\"link\":\"/技术文档/技术调研/《可用于UOS桌面应用性能自动化工具》调研报告\"},{\"text\":\"根因分析\",\"link\":\"/技术文档/根因分析/Python调用动态库运行时报静态TLS块不能分配内存根因分析报告\"}]},{\"text\":\"分享有趣\",\"items\":[{\"text\":\"常见问题\",\"link\":\"/分享有趣/常见问题/Wayland下sniff报错\"},{\"text\":\"经验总结\",\"link\":\"/分享有趣/经验总结/中文文案排版指北\"},{\"text\":\"读书笔记\",\"link\":\"/分享有趣/读书笔记/OpenStack系统架构设计实战\"}]},{\"text\":\"关于\",\"link\":\"/about\"}],\"sidebar\":{},\"search\":{\"provider\":\"local\"},\"ignoreDeadLinks\":true,\"logo\":{\"src\":\"/vitepress-logo-mini.svg\",\"width\":24,\"height\":24},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/mikigo/Blog\",\"ariaLabel\":\"cool link\"}],\"footer\":{\"copyright\":\"版权所有 © 2020-2025 mikigo\"},\"outline\":[2,5],\"outlineTitle\":\"当前页大纲\",\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"lastUpdated\":{\"text\":\"最后更新于\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}},\"langMenuLabel\":\"多语言\",\"returnToTopLabel\":\"回到顶部\",\"sidebarMenuLabel\":\"菜单\",\"darkModeSwitchLabel\":\"主题\",\"lightModeSwitchTitle\":\"切换到浅色模式\",\"darkModeSwitchTitle\":\"切换到深色模式\"},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>